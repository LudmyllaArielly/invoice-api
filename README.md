# Invoice Api, Spring framework, PostgreSQL, MaspStruct, Swagger
*This project is an invoice API using spring boot and angular as front end. In it we work with relationships and endpoints, such as saving, changing, modifying, listing. 
In addition to being a responsive and agile app.*

### Link rest api
https://invoice-api-ludmylla.herokuapp.com/invoices

### Frontend app link
https://invoice-api.netlify.app/list

![img](https://i.imgur.com/4vjZSgA.png)

## Technologies used
- Spring web
  - Spring Data Jpa
  - MapStruct
  - Swagger
  - PostgreSQL
  - Maven
  - Java Web

## Steps to Setup

**1. Clone the application**

```bash
git clone https://github.com/LudmyllaArielly/invoice-api-springboot.git
```
**2. Run the app using maven**

```bash
mvn invoice-api:run
```
**3. Prerequisites**
```bash
mvn --version
```
See the indication of the installed mavem version as well as the JDK version, among others.
These requirements are mandatory, so it is necessary to correctly define the environment variables JAVA_HOME and M2_HOME.
The app will start running at <http://localhost:8080>

**4. Compile**

```bash
mvn compile
```
This command compiles the project and deposits results in the destination directory.

**5. Running the RESTFul app and API**

```bash
java -jar target/api.jar
or
mvn invoice-api:run
```
In this way,
the Api generated by mvn package -P Api on port 8080 is run.
Example address:http://localhost:8080/invoices

## Explore Rest APIs

### Invoices

| Method | Url | Description |
| ------ | --- | ----------- |
| GET    | /invoices | Find all invoices | 
| POST   | /invoices | Create a invoice | 
| PUT    | /invoices | Updated the invoice | 
| GET    | /invoices/{id} | Find the invoice by id | 
| DELETE | /invoices/{id} | Deleted the invoice | 
| GET    | /invoices/findInvoiceWithUserCpf/{id} | Finds invoice by id and returns all user data | 
| PATCH  | /invoices/status | Updated status of the invoice | 

## Users
| Method | Url | Description | 
| ------ | --- | ----------- | 
| GET    | /users | Search all users | 
| POST   | /users | Create a user | 
| PUT    | /users | Updated the user | 
| GET    | /users/{id} | Find the user by id | 
| GET    | /users/findCpf/{cpf} | Find the user by cpf | 

## Sample Valid JSON Request Bodys

##### Create a user
```json
{
	"firstName": "Anna",
	"lastName": "Greyth",
	"cpf": "74125879622",
	"DateOfBirth": "1987-09-18"
}
```

##### Update the user
```json
{
  "id": 1,
	"firstName": "Anna",
	"lastName": "Greyth",
	"cpf": "74125879622",
	"DateOfBirth": "1987-09-18"
}
```

##### Create a invoice
```json
{
  "companyName": "Industry Mack",
  "dueDate": "2021-06-17",
  "status": "PAYABLE",
  "userCpfDTO": {
    "cpf": "74125879622"
  },
  "value": 325.78
}
```
##### Update the invoice
```json
{
  "id": 1,
  "companyName": "Industry Mack",
  "dueDate": "2021-06-17",
  "status": "PAYABLE",
  "userCpfDTO": {
    "cpf": "74125879622"
  },
  "value": 325.78
}
```
##### Update status invoice
```json
{
  "id": 1,
  "status": "PAID_OUT"
}
```
# Invoice APP, Frontend Angular with Bootstrap
This project was generated with Angular CLI version 11.2.11,

### Development server
Run ng serve for a dev server. Navigate to http://localhost:4200/. The app will automatically reload if you change any of the source files.

### Code scaffolding
Run ng generate component component-name to generate a new component. You can also use ng generate directive|pipe|service|class|guard|interface|enum|module.

### Build
Run ng build to build the project. The build artifacts will be stored in the dist/ directory. Use the --prod flag for a production build.

### Get the Code

Either clone this repository or fork it on GitHub and clone your fork:

```
git clone https://github.com/LudmyllaArielly/invoice-api-springboot.git
cd invoice-app
```

### App Server

Our backend application server is a NodeJS application that relies upon some 3rd Party npm packages.  You need to install these:

* Install local dependencies (from the project root folder):

    ```
    cd server
    npm install
    cd ..
    ```

  (This will install the dependencies declared in the server/package.json file)
  
### Run application

- If you have yarn installed
 - yarn start
- Npm
 - npm start
- Ng
 - ng serve




